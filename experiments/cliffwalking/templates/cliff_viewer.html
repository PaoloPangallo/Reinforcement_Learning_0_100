<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="CliffWalking - Visualizzatore Interattivo per Algoritmi RL">
  <title>CliffWalking - Visualizzatore RL</title>
<link rel="stylesheet" href="{{ url_for('cliff.static', filename='css/cliff.css') }}">
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>üßó CliffWalking</h1>
      <p class="subtitle">Visualizzatore Interattivo - Algoritmi RL</p>
    </header>

    <section class="controls">
      <div class="control-group">
        <label for="algo-select">Algoritmo</label>
        <select id="algo-select">
          <option value="qlearning">Q-Learning</option>
          <option value="sarsa">SARSA</option>
          <option value="expected_sarsa">Expected SARSA</option>
          <option value="sarsa_lambda">SARSA(Œª)</option>
        </select>
      </div>

      <div class="control-group">
        <label for="episode-select">Episodio</label>
        <select id="episode-select">
          <option value="">-- Carica episodio --</option>
        </select>
      </div>

      <div class="control-group">
        <label for="speed-select">Velocit√†</label>
        <select id="speed-select">
          <option value="slow">Lenta</option>
          <option value="normal" selected>Normale</option>
          <option value="fast">Veloce</option>
        </select>
      </div>

      <button id="play-btn" class="btn btn-primary">‚ñ∂Ô∏è Play</button>
      <button id="reset-btn" class="btn btn-secondary">üîÑ Reset</button>
    </section>

    <section class="timeline-wrapper">
      <div class="timeline-label">
        <span>Step: <strong id="step-display">0</strong></span>
        <span id="total-steps">Totale: 0</span>
      </div>
      <input type="range" id="timeline" class="timeline-slider" min="0" max="0" value="0">
    </section>

    <section class="viewer-grid">
      <div class="grid-wrapper">
        <div id="grid-container" class="grid"></div>
      </div>

      <aside class="info-box">
        <h3>üìä Info</h3>
        <div class="info-content">
          <p><strong>Algo:</strong> <span id="info-algo">‚Äî</span></p>
          <p><strong>Episodio:</strong> <span id="info-episode">‚Äî</span></p>
          <p><strong>Step:</strong> <span id="info-step">0</span>/<span id="info-total">0</span></p>
          <p><strong>Reward Cumul.:</strong> <span id="info-reward">0.00</span></p>
          <p><strong>Azione:</strong></p>
          <div class="action-display" id="action-display">‚Äî</div>
        </div>
      </aside>
    </section>

    <section class="stats">
      <div class="stat-box">
        <div class="stat-label">üìà Episodi</div>
        <div class="stat-value" id="stat-episodes">0</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">üìè Lunghezza</div>
        <div class="stat-value" id="stat-length">0</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">üèÜ Reward</div>
        <div class="stat-value" id="stat-final-reward">0.00</div>
      </div>
    </section>

    <div id="error-toast" class="toast">
      <span class="toast-message"></span>
      <button class="toast-close">&times;</button>
    </div>
  </div>

<script src="{{ url_for('cliff.static', filename='js/cliff_viewer.js') }}"></script>
</body>
</html>